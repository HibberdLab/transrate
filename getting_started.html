
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Transrate</title>
    <link rel="stylesheet" href="http://hibberdlab.com/transrate/assets/themes/leap-day/stylesheets/styles.css">
    <link rel="stylesheet" href="http://hibberdlab.com/transrate/assets/themes/leap-day/stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="http://hibberdlab.com/transrate/assets/themes/leap-day/javascripts/main.js"></script>
    <script src="http://hibberdlab.com/transrate/assets/themes/leap-day/javascripts/ggl-analytics.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>

      <header>
        <h1><a href="http://hibberdlab.com/transrate/">Transrate</a></h1>
        <p>Understand your transcriptome assembly</p>
      </header>

      <div id="banner">
        <div style="width: 580px; margin-left: auto; margin-right: auto;">
          <a href="index.html" class="button"><strong>Home</strong></a>
         <a href="getting_started.html" class="button"><strong>Getting Started</strong></a>
          <a href="metrics.html" class="button"><strong>Metrics</strong></a>
          <a href="options.html" class="button"><strong>Options</strong></a>
        </div>

      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        
<div class="page-header">
  <h1>Getting Started <small></small></h1>
</div>

<div class="row">
  <div class="span14">
    <h2 id="toc_0">Installing transrate</h2>

<p>If you haven&#39;t already, follow the <a href="http://hibberdlab.com/transrate/#installation">installation instructions</a> on the home page.</p>

<h2 id="toc_1">Examining your contigs</h2>

<p>You can examine your contigs without using the reads or a reference. You only need the assembly in FASTA format. If the assembly is in the file <code>assembly.fa</code>:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ transrate --assembly assembly.fa
</code></pre></div>
<p>This analysis should run relatively fast (a few seconds to a few minutes depending on the size of your assembly and the speed of your computer).</p>

<p>To understand what these metrics mean, read <a href="metrics.html#contig-metrics">contig metrics</a>.</p>

<h2 id="toc_2">Using reads</h2>

<p>You can evaluate an assembly using RNAseq reads. You need your assembly in FASTA format and paired reads in separate FASTQ files for the left and right reads. With the assembly in the file <code>assembly.fa</code> and the reads in <code>left.fq</code> and <code>right.fq</code>:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ transrate --assembly assembly.fa --reference reference.faa
</code></pre></div>
<p>Transrate uses Bowtie2 to align the reads, which can take a long time if you have a lot of reads. If you have multiple processors or cores, you can use them to speed up the analysis by specifying the <code>--threads</code> option. For example if you have 32 cores:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ transrate --assembly assembly.fa --left left.fq --right right.fq --threads 32
</code></pre></div>
<h3 id="toc_3">Choosing the right reads</h3>

<p>It is important that you choose the right set of reads to use for analysis. Different sets of reads correspond to asking different question of the analysis.</p>

<p>If you did any of the following you should think about which stage you want to use reads from:</p>

<ul>
<li>quality and/or adapter trimming and filtering (e.g. with Trimmomatic)</li>
<li>error correction (e.g. with BayesHAMMER)</li>
<li>coverage normalisation (e.g. with khmer normalize-by-median.py)</li>
</ul>

<p>If you use the raw reads before any treatment you are likely to get an unclear answer, because low quality reads/bases and sequencing errors can be confused with poor assembly. We therefore do not recommend using raw reads.</p>

<p>If you performed quality and/or adapter trimming and filtering and/or error correction you should use the final output from the entire process. For example if you ran Trimmomatic and then BayesHAMMER, use the output from BayesHAMMER as te input to Transrate. This is because these procedures are trying to reconstruct the true sequences of the reads, and should (theoretically) be producing a more accurate set of experimental evidence for the content of the transcriptome.</p>

<p>If you performed coverage normalisation at the end of any read processing pipeline, it is up to you whether to use the normalised reads or the processed reads prior to normalisation. We recommend using normalised reads because it makes the analysis much faster and in our experience the results are extremely similar except for the time taken. Bear in mind that coverage will be capped if you use normalised reads, so the mean coverage statistic will be lower. All other statistics should be unaffected.</p>

<h2 id="toc_4">Using a reference</h2>

<p>You can compare your assembly to a reference set of proteins from a related species. You need your assembly in FASTA format and the reference proteins in FASTA amino acid format. With the assembly in the file <code>assembly.fa</code> and the reference in the file <code>reference.faa</code>:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ transrate --assembly assembly.fa --reference reference.faa
</code></pre></div>
<p>This analysis can take a long while to run because of the BLAST alignments. As with read analysis, you might want to use multiple threads:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ transrate --assembly assembly.fa --reference reference.faa --threads 32
</code></pre></div>
<h3 id="toc_5">Choosing a reference</h3>

<p>Which species you choose can strongly affect the results, and how you prepare the reference can make a big difference.</p>

<p>The ideal reference is one from a very closely related species that has a well annotated genome. If a well annotated genome is not available from a closely related species, then a set of proteins from a distantly related but well annotated genome is preferable to a closely related but poorly annotated one.</p>

<p>If your reference is from a species that is not very closely related, it is greatly preferable to use a set of proteins with only one protein per protein-coding gene. This is because most annotated genomes will have multiple isoforms for many genes, each producing a protein. The similar isoforms lead to confusing BLAST alignments and lower the quality of the results. For plant species, <a href="http://phytozome.net">http://phytozome.net</a> provides a &#39;single representative transcript per locus&#39; set of proteins for every genome.</p>

<h3 id="toc_6">Using the same species as a reference</h3>

<p>It is sometimes useful to evaluate the quality of a de-novo transcriptome assembly even though a species has a well-annotated reference genome and transcriptome. To do this you can use the reference transcriptome as the reference in transrate. In this case you should <em>not</em> choose the &#39;single representative transcript per locus&#39; dataset, but should take the full set of transcripts. This allows you to evaluate true isoform reconstruction.</p>

<h2 id="toc_7">Comparing two or more assemblies</h2>

<p>You can easily compare multiple assemblies using Tras</p>

  </div>
</div>


      </section>
      <footer>
        <p style="margin-bottom: 5px;">Install Transrate:</p><small><pre style="margin-top=-15px;">gem install transrate</pre></small>
        <p>Current version:<br><a href="https://rubygems.org/gems/transrate"><img src="http://img.shields.io/gem/v/transrate.svg"></a></p>
        <p>Test coverage:<br><a href="https://coveralls.io/r/Blahah/transrate"><img src="http://img.shields.io/coveralls/Blahah/transrate.svg"></a></p>
        <p>Project maintained by<br><a href="mailto:rds45@cam.ac.uk">Richard Smith-Unna</a></p>
        <p><small>Developed with â™¥ and Ruby<br>in the <a href="http://hibberdlab.com">Hibberd Lab</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
  </body>
</html>

